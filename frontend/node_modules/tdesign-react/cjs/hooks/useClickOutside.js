/**
 * tdesign v1.15.8
 * (c) 2025 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var hooks_useConfig = require('./useConfig.js');
require('../config-provider/ConfigContext.js');
require('../_chunks/dep-978cf8f4.js');
require('../_chunks/dep-6228dec3.js');
require('../_chunks/dep-a973f285.js');
require('../_chunks/dep-64199a5a.js');
require('dayjs');
require('../_chunks/dep-0639eeb7.js');
require('../_chunks/dep-ecfd625d.js');
require('../_chunks/dep-5253ea18.js');
require('../_chunks/dep-df62c753.js');
require('../_chunks/dep-bbe36ea3.js');
require('../_chunks/dep-bd7ca811.js');
require('../_chunks/dep-b63856c7.js');
require('../_chunks/dep-7d270a12.js');
require('../_chunks/dep-103d03a9.js');
require('../_chunks/dep-d9be3c5b.js');
require('../_chunks/dep-5ac0f58d.js');
require('../_chunks/dep-2306061f.js');
require('../_chunks/dep-45d27f3b.js');
require('../_chunks/dep-f0acb1e5.js');
require('../_chunks/dep-285bc7da.js');
require('../_chunks/dep-47047a18.js');
require('../_chunks/dep-42134b1b.js');
require('../_chunks/dep-84746fd9.js');
require('../_chunks/dep-a135986a.js');
require('../_chunks/dep-1ad3f489.js');
require('../_chunks/dep-52f4b091.js');

function useClickOutside(refs, handler, includePopup) {
  var _useConfig = hooks_useConfig["default"](),
    classPrefix = _useConfig.classPrefix;
  var POPUP_SELECTOR = ".".concat(classPrefix, "-popup");
  React.useEffect(function () {
    var listener = function listener(event) {
      if (!Array.isArray(refs)) {
        return;
      }
      var elements = [];
      if (includePopup) {
        document.querySelectorAll(POPUP_SELECTOR).forEach(function (ele) {
          elements.push(ele);
        });
      }
      elements = Array.from(new Set(elements));
      if (refs.find(function (ref) {
        var _ref$current;
        return (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.contains(event.target);
      }) || elements.find(function (el) {
        return el === null || el === void 0 ? void 0 : el.contains(event.target);
      })) {
        return;
      }
      handler(event);
    };
    document.addEventListener("mousedown", listener);
    document.addEventListener("touchstart", listener);
    return function () {
      document.removeEventListener("mousedown", listener);
      document.removeEventListener("touchstart", listener);
    };
  }, [refs, handler, includePopup]);
}

exports["default"] = useClickOutside;
//# sourceMappingURL=useClickOutside.js.map
